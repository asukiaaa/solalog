<h1><%= @plant.name %></h1>

<%= simple_format( @plant.description,
                   {
                     class: 'plant-description-wrapper',
                   },
                   {
                     wrapper_tag: :div
                   }) %>

<div class="plant-menu-links">
  <%= link_to 'edit',
      edit_private_plant_path( @plant.uuid )
      %>
  <%= link_to 'delete',
      private_plant_path( @plant.uuid ),
      method: :delete,
      data: { confirm: "Are you sure to delete \"#{@plant.name}\"?" }
      %>
</div>

<% if @plant.power_logs.blank? %>
  There is no log for "<%= @plant.name %>".<br>
  Please post data about this plant.<br>
  This is an example code of python.

<pre>
import requests
r = requests.post('<%= api_v1_power_log_url %>',
  data = {
    'voltage' : '38.2',
    'ampere' : '1.6',
    'access_token': '<%= @plant.access_token %>',
  })
print r.text
</pre>
<% else %>

  <table class="power-logs-table">
    <thead>
    </thead>
    <tbody>
    <% @plant.power_logs.each do |power_log| %>
      <div class="power-log">
        <%= power_log.to_json %>
        <%= link_to 'delete',
            private_plant_power_log_path(plant_id: @plant.uuid, id: power_log.id),
            method: :delete,
            data: { confirm: "Are you sure to delete the power log at #{power_log.logged_at.to_s}?" }
            %>
      </div>
    <% end %>
    </tbody>
  </div>

<% end %>

<%= link_to 'back to dashboard', private_dashboard_path %>
